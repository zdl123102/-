{
  "articleStyle": 2,
  "enableJs": true,
  "enabled": true,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36\",\n  \"Referer\": \"https://nungvl.net/\"\n}",
  "ruleArticles": ".videos > .thumb-view",
  "ruleTitle": ".denomination@text",
  "ruleLink": ".contentme a@href",
  "ruleImage": ".xld@src",
  "ruleNextPage": "",
  "ruleContent": "@js:\nvar currentUrl = java.getUrl();\nvar baseUrl = currentUrl.match(/https:\\/\\/nungvl\\.net\\/gallerys\\/\\d+/)[0];\n\nvar pageText = java.getString('.pagination-site');\nvar totalPages = 1;\nif (pageText && pageText.includes('Page')) {\n  var m = pageText.match(/Page\\s*\\d+\\/(\\d+)/i);\n  if (m) totalPages = parseInt(m[1]);\n}\n\nvar img_list = '';\nvar data = java.getElements('.contentme img');\nfor (var i in data) {\n  var src = data[i].attr('src');\n  if (src && !src.includes('undefined') && !src.includes('logo') && !src.includes('icon')) {\n    img_list += '<li><img src=\"' + src + '\" /></li>';\n  }\n}\n\nvar loadedCount = 1;\nfor (var page = 2; page <= totalPages; page++) {\n  var pageUrl = baseUrl + '/' + page + '.cg';\n  var pageHtml = java.ajax(pageUrl);\n  var doc = org.jsoup.Jsoup.parse(pageHtml);\n  var imgs = doc.select('.contentme img');\n  for (var j = 0; j < imgs.size(); j++) {\n    var src = imgs.get(j).attr('src');\n    if (src && !src.includes('undefined') && !src.includes('logo') && !src.includes('icon')) {\n      img_list += '<li><img src=\"' + src + '\" /></li>';\n    }\n  }\n  loadedCount++;\n  java.toast('已加载 ' + loadedCount + '/' + totalPages + ' 页');\n}\n\njava.toast('加载完成，共 ' + totalPages + ' 页');\n\nresult = '<!DOCTYPE html>\n<html>\n<head>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\">\n<link rel=\"stylesheet\" href=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.css\">\n<script src=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.js\"></script>\n<title>' + title + '</title>\n<style>\nbody{background:#000;margin:0;padding:0}\nh3{color:#fff;text-align:center;margin:15px 0}\nul{font-size:0;padding:0;margin:0}\nli{list-style:none;margin:0}\nimg{width:100%;max-width:800px;height:auto;display:block;margin:0 auto}\n#backToTop{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,0.5);color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:none;z-index:999}\n#toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.7);color:#fff;padding:10px 20px;border-radius:20px;font-size:14px;z-index:998;opacity:0;transition:opacity 0.3s}\n#toast.show{opacity:1}\n</style>\n</head>\n<body>\n<h3>' + title + '</h3>\n<ul id=\"gallery\">' + img_list + '</ul>\n<div id=\"toast\">加载完成</div>\n<div id=\"backToTop\">↑ TOP</div>\n<script>\nvar gallery = document.getElementById(\"gallery\");\nvar viewer = new Viewer(gallery, {\n  title: false,\n  toolbar: {\n    zoomIn: true,\n    zoomOut: true,\n    oneToOne: true,\n    reset: true,\n    rotateLeft: true,\n    rotateRight: true,\n    flipHorizontal: true,\n    flipVertical: true\n  },\n  viewed: function() { document.getElementById(\"backToTop\").style.display = \"none\"; }\n});\ngallery.querySelectorAll(\"img\").forEach(function(img) {\n  img.addEventListener(\"click\", function() { viewer.show(); });\n});\nwindow.onscroll = function() {\n  document.getElementById(\"backToTop\").style.display = window.scrollY > 200 ? \"block\" : \"none\";\n};\ndocument.getElementById(\"backToTop\").onclick = function() { window.scrollTo({top:0,behavior:\"smooth\"}); };\nvar imgs = document.querySelectorAll(\"#gallery img\");\nvar loaded = 0;\nimgs.forEach(function(img) {\n  img.onload = function() { loaded++; showToast(\"图片加载 \" + loaded + \"/\" + imgs.length); };\n  img.onerror = function() { loaded++; };\n  if(img.complete) { loaded++; showToast(\"图片加载 \" + loaded + \"/\" + imgs.length); }\n});\nfunction showToast(msg) {\n  var t = document.getElementById(\"toast\");\n  t.innerText = msg;\n  t.classList.add(\"show\");\n  setTimeout(function() { t.classList.remove(\"show\"); }, 2000);\n}\nif(imgs.length > 0) showToast(\"共 \" + imgs.length + \" 张图片，点击查看大图\");\n</script>\n</body>\n</html>';",
  "sourceGroup": "图片套图",
  "sourceIcon": "https://nungvl.net/favicon.ico",
  "sourceName": "NungVL-Gallery",
  "sourceUrl": "https://nungvl.net/",
  "searchUrl": "https://www.google.com/search?q={{key}}+site:nungvl.net",
  "sortUrl": "搜索::https://www.google.com/search?q={{source.getVariable()}}+site:nungvl.net\n最新::https://nungvl.net/?page={{page}}\n热门::https://nungvl.net/hot?page={{page}}",
  "style": "body{background:#000;color:#fff}\nh3{text-align:center}\nimg{width:100%;max-width:800px;height:auto}",
  "type": 0
}
