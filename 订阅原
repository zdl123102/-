{
  "articleStyle": 2,
  "enableJs": true,
  "enabled": true,
  "loadWithBaseUrl": true,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36\",\n  \"Referer\": \"https://nungvl.net/\"\n}",
  "ruleArticles": ".videos > .thumb-view",
  "ruleTitle": ".denomination@text",
  "ruleLink": ".contentme a@href",
  "ruleImage": ".xld@src",
  "ruleNextPage": "",
  "ruleContent": "<js>\n(() => {\n    var currentUrl = baseUrl;\n    var baseUrlMatch = currentUrl.match(/(https:\\/\\/nungvl\\.net\\/gallerys\\/\\d+)/);\n    var baseUrlStr = baseUrlMatch ? baseUrlMatch[1] : currentUrl;\n    \n    var pageText = java.getString('.pagination-site');\n    var totalPages = 1;\n    if (pageText && pageText.includes('Page')) {\n        var m = pageText.match(/Page\\s*\\d+\\/(\\d+)/i);\n        if (m) totalPages = parseInt(m[1]);\n    }\n    \n    var img_list = '';\n    var data = java.getElements('.contentme img');\n    for (var i in data) {\n        var src = data[i].attr('src');\n        if (src && !src.includes('undefined') && !src.includes('logo') && !src.includes('icon')) {\n            img_list += '<li><img src=\"' + src + '\" /></li>';\n        }\n    }\n    \n    var htmlContent = '<!DOCTYPE html>\\n<html>\\n<head>\\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no\">\\n<link rel=\"stylesheet\" href=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.css\">\\n<script src=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.js\"></script>\\n<title>' + title + '</title>\\n<style>\\nbody{background:#000;margin:0;padding:0}\\nh3{color:#fff;text-align:center;margin:15px 0}\\nul{font-size:0;padding:0;margin:0}\\nli{list-style:none;margin:0}\\nimg{width:100%;max-width:800px;height:auto;display:block;margin:0 auto}\\n#backToTop{position:fixed;bottom:20px;right:20px;background:rgba(0,0,0,0.5);color:#fff;padding:10px 15px;border-radius:5px;cursor:pointer;display:none;z-index:999}\\n#toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.7);color:#fff;padding:10px 20px;border-radius:20px;font-size:14px;z-index:998;opacity:0;transition:opacity 0.3s}\\n#toast.show{opacity:1}\\n</style>\\n</head>\\n<body>\\n<h3>' + title + '</h3>\\n<div id=\"msg\" style=\"color:#0f0;text-align:center;padding:10px;\">' + (totalPages > 1 ? '正在加载 ' + totalPages + ' 页图片...' : '加载中...') + '</div>\\n<ul id=\"gallery\">' + img_list + '</ul>\\n<div id=\"toast\">加载完成</div>\\n<div id=\"backToTop\">↑ TOP</div>\\n<script>\\nvar base = \"' + baseUrlStr + '\";\\nvar total = ' + totalPages + ';\\nvar loaded = [1];\\nvar container = document.getElementById(\"gallery\");\\n\\nfunction loadPage(p) {\\n  var x = new XMLHttpRequest();\\n  x.open(\"GET\", base + \"/\" + p + \".cg\");\\n  x.onload = function() {\\n    var parser = new DOMParser();\\n    var doc = parser.parseFromString(x.responseText, \"text/html\");\\n    var imgs = doc.querySelectorAll(\".contentme img\");\\n    var html = \"\";\\n    imgs.forEach(function(img) {\\n      var src = img.getAttribute(\"src\");\\n      if (src && !src.includes(\"undefined\") && !src.includes(\"logo\") && !src.includes(\"icon\")) {\\n        html += \"<li><img src=\\\\\"\" + src + \"\\\\\" /></li>\";\\n      }\\n    });\\n    if (html) {\\n      container.innerHTML += \"<p style=\\\\\"color:#666;text-align:center;\\\\\">--- 第\" + p + \"页 ---</p>\" + html;\\n      loaded.push(p);\\n    }\\n    document.getElementById(\"msg\").innerText = \"已加载 \" + loaded.length + \"/\" + total + \" 页\";\\n    if (loaded.length < total) loadPage(loaded.length + 1);\\n  };\\n  x.send();\\n}\\n\\nif (total > 1) loadPage(2);\\nelse document.getElementById(\"msg\").innerText = \"加载完成\";\\n\\nvar viewer = new Viewer(container, {\\n  title: false,\\n  toolbar: { zoomIn:true, zoomOut:true, oneToOne:true, reset:true, rotateLeft:true, rotateRight:true, flipHorizontal:true, flipVertical:true }\\n});\\ncontainer.querySelectorAll(\"img\").forEach(function(img) {\\n  img.addEventListener(\"click\", function() { viewer.show(); });\\n});\\nwindow.onscroll = function() { document.getElementById(\"backToTop\").style.display = window.scrollY > 200 ? \"block\" : \"none\"; };\\ndocument.getElementById(\"backToTop\").onclick = function() { window.scrollTo({top:0,behavior:\"smooth\"}); };\\n</script>\\n</body>\\n</html>';\n    \n    return htmlContent;\n})()\n</js>",
  "sourceGroup": "图片套图",
  "sourceIcon": "https://nungvl.net/favicon.ico",
  "sourceName": "NungVL-Gallery",
  "sourceUrl": "https://nungvl.net/",
  "searchUrl": "https://www.google.com/search?q={{key}}+site:nungvl.net",
  "sortUrl": "搜索::https://www.google.com/search?q={{source.getVariable()}}+site:nungvl.net\n最新::https://nungvl.net/?page={{page}}\n热门::https://nungvl.net/hot?page={{page}}",
  "style": "body{background:#000;color:#fff}\nh3{text-align:center}\nimg{width:100%;max-width:800px;height:auto}",
  "type": 0
}
