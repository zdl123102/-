{
  "articleStyle": 0,
  "customOrder": 0,
  "enableJs": false,
  "enabled": true,
  "enabledCookieJar": false,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36\",\n  \"Referer\": \"https://www.cool18.com/\",\n  \"Cookie\": \"isok=true\"\n}",
  "lastUpdateTime": 0,
  "loadWithBaseUrl": true,
  "ruleArticles": ".thread-list li a, .gallery-item, #d_list li",
  "ruleContent": "<js>\n(() => {\n    var doc = org.jsoup.Jsoup.parse(result);\n    var title = '';\n    var author = '';\n    var date = '';\n    var imgUrls = [];\n    var adDomains = ['parkvv.com', 'interactivebrokers.com', 'ad.', 'banner', 'adv-', 'doppiocdn', 'ads.retukucdn.com'];\n    \n    // 获取标题\n    var titleEl = doc.select('h1.main-title').first();\n    if (!titleEl) titleEl = doc.select('h1').first();\n    title = titleEl ? String(titleEl.text()) : '';\n    \n    // 获取作者 - .sender a\n    var authorEl = doc.select('.sender a').first();\n    if (!authorEl) authorEl = doc.select('.author a').first();\n    author = authorEl ? String(authorEl.text()) : '';\n    \n    // 获取日期 - 从 .sender span 中提取\n    var dateEl = doc.select('.sender span').first();\n    if (dateEl) {\n        var fullText = String(dateEl.text());\n        // 提取 \"于 YYYY-MM-DD\" 格式的日期\n        var dateMatch = fullText.match(/于\\s*(\\d{4}[-_]\\d{1,2}[-_]\\d{1,2})/);\n        if (dateMatch) {\n            date = dateMatch[1].replace(/_/g, '-');\n        } else {\n            // 如果没匹配到，尝试提取日期部分\n            var simpleMatch = fullText.match(/(\\d{4}[-_]\\d{1,2}[-_]\\d{1,2})/);\n            if (simpleMatch) {\n                date = simpleMatch[1].replace(/_/g, '-');\n            }\n        }\n    }\n    \n    // 获取内容区域 - #content-section\n    var contentSection = doc.select('#content-section').first();\n    if (!contentSection) contentSection = doc.select('#content').first();\n    if (!contentSection) contentSection = doc.select('.post-content').first();\n    \n    if (contentSection) {\n        // 提取所有图片\n        var imgs = contentSection.select('img[src]');\n        for (var i = 0; i < imgs.size(); i++) {\n            var src = String(imgs.get(i).attr('src'));\n            \n            // 跳过广告\n            var isAd = false;\n            for (var j = 0; j < adDomains.length; j++) {\n                if (src.toLowerCase().indexOf(adDomains[j]) >= 0) {\n                    isAd = true;\n                    break;\n                }\n            }\n            if (isAd) continue;\n            if (!src || src.length < 15) continue;\n            \n            // 已经是完整URL，直接使用\n            if (src.indexOf('http') === 0) {\n                imgUrls.push(src);\n            }\n        }\n    }\n    \n    // 如果内容区域没找到图片，尝试从整个body获取\n    if (imgUrls.length === 0) {\n        var allImgs = doc.select('img[src]');\n        for (var i = 0; i < allImgs.size(); i++) {\n            var src = String(allImgs.get(i).attr('src'));\n            var isAd = false;\n            for (var j = 0; j < adDomains.length; j++) {\n                if (src.toLowerCase().indexOf(adDomains[j]) >= 0) {\n                    isAd = true;\n                    break;\n                }\n            }\n            if (isAd) continue;\n            if (!src || src.length < 15) continue;\n            if (src.indexOf('http') === 0) {\n                imgUrls.push(src);\n            }\n        }\n    }\n    \n    // 构建HTML\n    var htmlContent = '<!DOCTYPE html>\\n<html>\\n<head>';\n    htmlContent += '<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\">';\n    htmlContent += '<title>' + title + '</title>';\n    htmlContent += '<link rel=\"stylesheet\" href=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.css\">';\n    htmlContent += '<script src=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.js\"><\\/script>';\n    htmlContent += '<style>';\n    htmlContent += '*{margin:0;padding:0}body{background:#1a1a1a;color:#ddd;font-size:14px;line-height:1.6}';\n    htmlContent += '.header{padding:20px;text-align:center;background:linear-gradient(135deg,#2d2d2d,#1a1a1a);border-bottom:1px solid #333}';\n    htmlContent += '.header h2{color:#ff6b6b;font-size:16px;margin:0;word-wrap:break-word}';\n    htmlContent += '.info{padding:10px 20px;font-size:12px;color:#888;background:#222}';\n    htmlContent += 'img{max-width:100%;height:auto;display:block;margin:5px auto;border-radius:4px}';\n    htmlContent += '.page{text-align:center;padding:15px;background:#222;border-top:1px solid #333}';\n    htmlContent += '.page a{color:#4a9eff;margin:0 10px;text-decoration:none}';\n    htmlContent += '#toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.8);color:#fff;padding:10px 20px;border-radius:20px;z-index:999;opacity:0;transition:opacity 0.3s}';\n    htmlContent += '#toast.show{opacity:1}';\n    htmlContent += '#backToTop{position:fixed;bottom:30px;right:20px;background:rgba(255,107,107,0.8);color:#fff;width:40px;height:40px;border-radius:50%;text-align:center;line-height:40px;cursor:pointer;display:none;z-index:998}';\n    htmlContent += '</style>\\n</head>\\n<body>';\n    \n    htmlContent += '<div class=\"header\"><h2>' + title + '</h2></div>';\n    if (author || date) htmlContent += '<div class=\"info\">作者: ' + author + ' | ' + date + '</div>';\n    \n    // 添加图片\n    for (var i = 0; i < imgUrls.length; i++) {\n        htmlContent += '<img src=\"' + imgUrls[i] + '\" onerror=\"this.style.display=\\'none\\'\"/>';\n    }\n    \n    htmlContent += '<div id=\"toast\">已加载 ' + imgUrls.length + ' 张图片</div>';\n    htmlContent += '<div id=\"backToTop\">↑</div>';\n    \n    htmlContent += '<script>';\n    htmlContent += '(function(){';\n    htmlContent += 'var toast=document.getElementById(\"toast\");';\n    htmlContent += 'var imgs=document.querySelectorAll(\"img\");';\n    htmlContent += 'var loaded=0;';\n    htmlContent += 'function check(){loaded++;if(loaded>=imgs.length){toast.innerText=\"✅ 已加载 \"+imgs.length+\" 张图片\";setTimeout(function(){toast.classList.add(\"show\");},100);setTimeout(function(){toast.classList.remove(\"show\");},3000);initViewer();}};';\n    htmlContent += 'imgs.forEach(function(img){if(img.complete){check()}else{img.onload=check;img.onerror=check}});';\n    htmlContent += 'var btn=document.getElementById(\"backToTop\");';\n    htmlContent += 'window.onscroll=function(){btn.style.display=window.scrollY>300?\"block\":\"none\"};';\n    htmlContent += 'btn.onclick=function(){window.scrollTo({top:0,behavior:\"smooth\"})};';\n    htmlContent += 'function initViewer(){var c=document.querySelector(\"body\");if(c&&typeof Viewer!==\"undefined\"){var v=new Viewer(c,{toolbar:true,navbar:true,title:false, viewed:function(){btn.style.display=\"none\"}, hidden:function(){if(window.scrollY>300)btn.style.display=\"block\"}});}}';\n    htmlContent += '})();';\n    htmlContent += '</script>\\n</body>\\n</html>';\n    \n    return htmlContent;\n})()\n</js>",
  "ruleImage": "img@src",
  "ruleLink": "a@href",
  "ruleTitle": "a@text",
  "singleUrl": false,
  "sortUrl": "搜索::https://www.cool18.com/bbs/index.php?isok=true&action=search&act=threadsearch&app=forum&keywords={{source.getVariable()}}\n性趣贴图::https://www.cool18.com/bbs/index.php?isok=true\n私房自拍::https://www.cool18.com/bbs6/index.php?isok=true\n性感地带::https://www.cool18.com/site/index.php?act=bbs&bbsid=1106&isok=true\n卡通福利::https://www.cool18.com/site/index.php?act=bbs&bbsid=1111&isok=true",
  "sourceComment": "酷18性趣贴图\n支持主页和分类页面两种格式\n支持图片浏览、返回顶部\n注意:部分内容可能需要登录",
  "sourceGroup": "18+",
  "sourceIcon": "https://www.cool18.com/favicon.ico",
  "sourceName": "酷18性趣贴图",
  "sourceUrl": "https://www.cool18.com/bbs/index.php?isok=true",
  "variableComment": "输入关键词搜索"
}
