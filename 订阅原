{
  "articleStyle": 2,
  "enableJs": true,
  "enabled": true,
  "loadWithBaseUrl": true,
  "header": "{\n  \"User-Agent\": \"Mozilla/5.0 (Linux; Android 13; 2211133C Build/TKQ1.220905.001) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/135.0.0.0 Mobile Safari/537.36\",\n  \"Referer\": \"https://nungvl.net/\"\n}",
  "ruleArticles": ".thumb-view",
  "ruleTitle": ".denomination@text",
  "ruleLink": "ins.contentme a@href",
  "ruleImage": "img.xld@src",
  "ruleNextPage": "a.next@href",
  "ruleContent": "<js>\n(() => {\n    var doc = org.jsoup.Jsoup.parse(result);\n    var titleEl = doc.select('.box-mt-output h2').first();\n    if (!titleEl) titleEl = doc.select('h1, h2, title').first();\n    var fullTitle = titleEl ? String(titleEl.text()) : String(title);\n    fullTitle = fullTitle.replace('NứngVL.net: ', '');\n    \n    // 从标题提取总页数 \"Page 1/4\" -> maxpage = 4\n    var pageMatch = fullTitle.match(/Page\\s*(\\d+)\\/(\\d+)/);\n    var maxpage = pageMatch ? parseInt(pageMatch[2]) : 1;\n    var pageTitle = fullTitle.replace(/\\s*\\|\\s*Page\\s*\\d+\\/\\d+/g, '');\n    \n    // 获取基础URL（去掉.cg后缀）\n    var urlt = baseUrl.replace(/\\.cg$/, '');\n    \n    var loadedCount = 0;\n    var htmlContent = `<!DOCTYPE html>\n    <html>\n    <head>\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0\">\n        <link rel=\"stylesheet\" href=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.css\">\n        <script src=\"https://cdn.bootcdn.net/ajax/libs/viewerjs/1.10.1/viewer.min.js\"><\\/script>\n    <title>${pageTitle}</title>\n        <style>\n            #backToTopBtn {\n                display: none;\n                position: fixed;\n                bottom: 36px;\n                right: 18px;\n                z-index: 999;\n                border: none;\n                outline: none;\n                background: rgba(0, 0, 0, 0.5);\n                color: white;\n                cursor: pointer;\n                padding: 9px;\n                border-radius: 10%;\n                font-size: 9px;\n                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.8);\n                transition: all 0.3s ease;\n                backdrop-filter: blur(4px);\n                border: 1px solid rgba(255, 255, 255, 0.2);\n            }\n            #backToTopBtn:hover {\n                background: rgba(0, 0, 0, 0.5);\n                transform: scale(1.08);\n                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.7);}\n            #backToTopBtn:active {\n                transform: scale(0.95);}\n            #image-loaded-toast {\n                position: fixed;\n                bottom: 33px;\n                left: 50%;\n                transform: translateX(-50%);\n                background: rgba(0, 0, 0, 0.5);\n                color: white;\n                padding: 10px 20px;\n                border-radius: 20px;\n                font-size: 14px;\n                z-index: 998;\n                backdrop-filter: blur(4px);\n                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);\n                opacity: 0;\n                transition: opacity 0.3s;\n                pointer-events: none;\n                white-space: nowrap;\n            }\n            #image-loaded-toast.show { opacity: 1; }\n            .header-container {\n                text-align:center;\n                padding:50px 20px 20px;\n                margin:0 0 0px;\n                position:relative;\n                background:linear-gradient(135deg, #1a1a2e, #16213e);\n            }\n            .header-card {\n                position:relative;\n                z-index:10;\n                display:inline-block;\n                transform:translateY(-20px);\n                filter: drop-shadow(0 15px 25px rgba(0,94,135,0.25));\n            }\n            .header-content {\n                background:rgba(0,0,0,0.55);\n                backdrop-filter:blur(12px);\n                padding:16px 48px;\n                border-radius:18px;\n                border:1px solid rgba(255,255,255,0.15);\n                box-shadow:0 8px 32px rgba(0,0,0,0.4), inset 0 0 12px rgba(255,255,255,0.1);\n                position:relative;\n                overflow:hidden;\n            }\n            .header-highlight {\n                position:absolute;\n                top:0; left:0; right:0;\n                height:40%;\n                background:linear-gradient(to bottom, rgba(255,255,255,0.1), transparent);\n                pointer-events:none;\n            }\n            .header-title {\n                background:linear-gradient(135deg, #e94560, #0f3460);\n                -webkit-background-clip:text;\n                background-clip:text;\n                color:transparent;\n                font-size:1.3rem;\n                font-weight:700;\n                margin:0;\n                letter-spacing:-0.5px;\n                position:relative;\n                z-index:2;\n            }\n            * {margin: 0; padding: 0}\n            body { background: #0a0a0a; }\n            img {width: 100%; height: auto}\n            ul {font-size: 0; padding: 0}\n            li {list-style: none; text-align: center; margin-bottom: 0px;}\n            .page-separator {\n                text-align: center;\n                width: 100%;\n                padding: 8px 0;\n                font-size: 0.85rem;\n                color: #e94560;\n                font-weight: 500;\n                letter-spacing: 1px;\n                background: linear-gradient(135deg, #1a1a2e, #16213e);\n                margin: 0px 0;\n            }\n        </style>\n    </head>\n    <body>\n        <div class=\"header-container\">\n            <div class=\"header-card\">\n                <div class=\"header-content\">\n                    <div class=\"header-highlight\"></div>\n                    <h3 class=\"header-title\">${pageTitle}</h3>\n                </div>\n            </div>\n        </div>\n        <ul>`;\n    \n    // 循环加载所有页面\n    for (var i = 1; i <= maxpage; i++) {\n        var pageUrl = (i === 1) ? urlt + '.cg' : urlt + '-' + i + '.cg';\n        var pageHtml = (i === 1) ? result : java.ajax(pageUrl);\n        var pageDoc = org.jsoup.Jsoup.parse(pageHtml);\n        var imgs = pageDoc.select('.contentme img');\n        var pageImgCount = imgs.size();\n        \n        if (maxpage > 1) {\n            htmlContent += `<li class=\"page-separator\">Page ${i}/${maxpage}</li>`;\n        }\n        \n        for (var j = 0; j < pageImgCount; j++) {\n            var img = imgs.get(j);\n            var src = img.attr('src');\n            if (src && src.length > 20) {\n                htmlContent += '<li><img src=\"' + src + '\" onerror=\"this.style.display=\\'none\\'\"/></li>\\n';\n                loadedCount++;\n            }\n        }\n        \n        // 进度条\n        var progressBar = \"\";\n        var progress = Math.round((i / maxpage) * 10);\n        for (var k = 0; k < 10; k++) {\n            progressBar += (k < progress) ? \"♥\" : \"♡\";\n        }\n        \n        var toastMsg = \"\\nLoading Page \" + i + \"/\" + maxpage;\n        toastMsg += \" (\" + loadedCount + \" pics)\\n\";\n        toastMsg += progressBar + \" \" + Math.round((i / maxpage) * 100) + \"%\";\n        java.toast(toastMsg);\n    }\n    \n    java.toast(\"\\n✅ Loaded \" + maxpage + \" pages / \" + loadedCount + \" pics\");\n    \n    htmlContent += `</ul>\n        <div id=\"image-loaded-toast\"></div>\n        <button id=\"backToTopBtn\" title=\"Top\">\\u25b3</button>\n        <script>\n            (function() {\n                const backToTopBtn = document.getElementById(\"backToTopBtn\");\n                const toast = document.getElementById(\"image-loaded-toast\");\n                const images = document.querySelectorAll(\"img\");\n                let loadedCount = 0;\n                const totalImages = images.length;\n                function updateToast() {\n                    toast.innerHTML = \"\\u23f3 (\" + loadedCount + \"/\" + totalImages + \")\";\n                    toast.classList.add(\"show\");\n                }\n                if(totalImages === 0) { toast.style.display = \"none\"; } else { updateToast(); }\n                function checkAllLoaded() {\n                    loadedCount++;\n                    updateToast();\n                    if(loadedCount >= totalImages) {\n                        toast.innerHTML = \"\\u2705 \" + totalImages + \" pics loaded\";\n                        setTimeout(() => { toast.classList.remove(\"show\"); }, 3000);\n                        initImageViewer();\n                    }\n                }\n                window.addEventListener(\"scroll\", () => {\n                    if ((window.scrollY || document.documentElement.scrollTop) > 288) {\n                        backToTopBtn.style.display = \"block\";\n                        backToTopBtn.style.opacity = \"1\";\n                    } else { backToTopBtn.style.display = \"none\"; }\n                });\n                backToTopBtn.addEventListener(\"click\", () => {\n                    window.scrollTo({ top: 0, behavior: \"smooth\" });\n                });\n                function initImageViewer() {\n                    const container = document.querySelector('ul');\n                    if (container && typeof Viewer !== 'undefined') {\n                        const viewer = new Viewer(container, {\n                            title: false, navbar: true,\n                            toolbar: { zoomIn:true, zoomOut:true, oneToOne:true, reset:true, rotateLeft:true, rotateRight:true, flipHorizontal:true, flipVertical:true },\n                            viewed() { backToTopBtn.style.display = 'none'; },\n                            hidden() { if (window.scrollY > 288) backToTopBtn.style.display = 'block'; }\n                        });\n                        container.querySelectorAll('img').forEach(img => {\n                            img.addEventListener('click', function() { viewer.show(); });\n                        });\n                    }\n                }\n                images.forEach(img => {\n                    if(img.complete) { checkAllLoaded(); }\n                    else { img.addEventListener(\"load\", checkAllLoaded); img.addEventListener(\"error\", checkAllLoaded); }\n                });\n            })();\n        <\\/script>\n    </body>\n    </html>`;\n    return htmlContent;\n})()\n</js>",
  "sourceGroup": "18+",
  "sourceIcon": "https://nungvl.net/favicon.ico",
  "sourceName": "NungVL",
  "sourceUrl": "https://nungvl.net/",
  "searchUrl": "",
  "sortUrl": "搜索::https://www.google.com/search?q={{source.getVariable()}}+site:nungvl.net\n最新::https://nungvl.net/?page={{page}}\n热门::https://nungvl.net/hot",
  "sourceComment": "NungVL.net 图库源\n参考 @Mengteen 阅图UI风格\n含Viewer.js大图浏览、返回顶部、加载进度提示",
  "style": "h3{text-align:center}\nimg{width:100%}",
  "type": 0
}
